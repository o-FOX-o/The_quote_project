
const fs = require('fs');

//Quotes file ( ͡❛ ͜ʖ͡❛ )

function getQuotesFile(){
    return new Promise((resolve,reject) => {fs.readFile('../data/quotes.json','utf-8',(err,data) =>{
                if(err){
                    reject(`Error: ${err}`);
                }else {
                    resolve(data)
                }
            })
        })
}

//Tags ("_")

const getTags = () =>{
    return new Promise((resolve,reject) => {
        fs.readFile('../data/quotes.json', 'utf8', (err, data) =>{
            if(err){
                reject('Error reading the file!:'+err);
            }else {
                resolve(JSON.parse(data));
            }
        })
    })
}

function clearTags(file){
    let tags =new Set();
    file.forEach(quotes => {
        quotes.tags.forEach(tag=> {
            tags.add(tag)
        })
    })
    return tags
}

async function arrayTags(){
    const quotesFile = await getTags();
    const tags = Array.from(clearTags(quotesFile))
    return tags
}

//Main function

async function mainFun(){
    return {
        tags : await arrayTags(),
        quotesFile : await getQuotesFile()
    }
}
//Exports ==>>

module.exports = mainFun();


                        // ░░░░░░░░░░░░░░░░░░░░░░░░░░░░░░░░░░░░░░░░░░░░░░░░░░░░░░░░░░░░░░░░░░░░░░░░░░░░░░░░░░░░░░
                        // ░░░░░░░░░░░░░░░░░░░░████░░░░░░░░░░░░░░░░░░░░░░░░░░░░░░░░░░░░░░░░████░░░░░░░░░░░░░░░░░░
                        // ░░░░░░░░░░░░░░░░░░████████░░░░░░░░░░░░░░░░░░░░░░░░░░░░░░░░░░░░████████░░░░░░░░░░░░░░░░
                        // ░░░░░░░░░░░░░░░░██▓▓▓▓▓▓██▓▓░░░░░░░░░░░░░░░░░░░░░░░░░░░░░░░░████▓▓▓▓▓▓██░░░░░░░░░░░░░░
                        // ░░░░░░░░░░░░░░▓▓██▓▓▓▓▓▓▓▓▓▓░░░░░░░░░░░░░░░░░░░░░░░░░░░░░░░░██▓▓▓▓▓▓▓▓██▓▓░░░░░░░░░░░░
                        // ░░░░░░░░░░░░████▓▓▓▓  ▓▓▓▓▓▓░░░░░░░░░░░░░░░░░░░░░░░░░░░░░░░░██▓▓▓▓  ▓▓▓▓████░░░░░░░░░░
                        // ░░░░░░░░░░░░████▓▓▓▓  ▓▓▓▓▓▓░░░░░░░░░░░░░░░░░░░░░░░░░░░░░░░░██▓▓▓▓  ▓▓▓▓████░░░░░░░░░░
                        // ░░░░░░░░░░▒▒██▓▓▓▓░░  ▓▓▓▓▓▓░░░░░░░░░░░░░░░░░░░░░░░░░░░░░░░░██▓▓▓▓  ░░▓▓▓▓██▒▒░░░░░░░░
                        // ░░░░░░░░░░████▓▓▒▒    ▓▓▓▓██░░░░░░░░░░░░░░░░░░░░░░░░░░░░░░░░██▓▓▓▓    ▓▓▓▓████░░░░░░░░
                        // ░░░░░░░░░░██▓▓▓▓      ▓▓▓▓████░░░░░░░░░░░░░░░░░░░░░░░░░░░░████▓▓▓▓      ▓▓▓▓██░░░░░░░░
                        // ░░░░░░░░░░██▓▓▓▓      ▓▓▓▓▓▓██░░░░░░░░░░░░░░░░░░░░░░░░░░░░██▓▓▓▓▓▓      ▓▓▓▓██░░░░░░░░
                        // ░░░░░░░░░░██▓▓▓▓      ▓▓▓▓▓▓██░░░░░░░░░░░░░░░░░░░░░░░░░░░░██▓▓▓▓▓▓      ▓▓▓▓██░░░░░░░░
                        // ░░░░░░░░████▓▓▓▓      ▓▓▓▓▓▓████░░░░░░░░░░░░░░░░░░░░░░░░████▓▓▓▓▓▓      ▓▓▓▓████░░░░░░
                        // ░░░░░░░░██▓▓▓▓        ▓▓▓▓▓▓▓▓██░░░░░░░░░░░░░░░░░░░░░░░░██▓▓▓▓▓▓▓▓        ▓▓▓▓██░░░░░░
                        // ░░░░░░░░██▓▓▓▓            ▓▓▓▓▓▓██░░░░░░░░░░░░░░░░░░░░██▓▓▓▓▓▓            ▓▓▓▓██░░░░░░
                        // ░░░░░░░░██▓▓▓▓          ░░▓▓▓▓▓▓██░░░░░░░░░░░░░░░░░░░░██▓▓▓▓▓▓░░          ▓▓▓▓██░░░░░░
                        // ░░░░░░░░██▓▓▓▓        ░░  ▓▓▓▓▓▓██░░████████████████░░██▓▓▓▓██  ░░        ▓▓▓▓██░░░░░░
                        // ░░░░░░░░██▓▓        ░░  ░░░░▓▓▓▓▓▓▓▓▒▒▒▒▒▒░░░░▒▒▒▒▒▒██▓▓▓▓▓▓  ░░  ░░        ▓▓██░░░░░░
                        // ░░░░░░██████      ░░  ░░  ▒▒▓▓▓▓▓▓▒▒▒▒▒▒░░░░░░░░▒▒▒▒░░▓▓▓▓▓▓▒▒  ░░  ░░      ▓▓████░░░░
                        // ░░░░██████▓▓▒▒▒▒▒▒  ▒▒  ▒▒░░░░▓▓░░░░░░░░░░░░░░░░░░░░░░░░▓▓░░▒▒▒▒  ▒▒  ▒▒▒▒▒▒▓▓██████░░
                        // ░░░░██░░▒▒▒▒▒▒▒▒▒▒░░▒▒░░░░░░░░░░░░░░░░░░░░░░░░░░░░░░░░░░░░░░░░░░░░▒▒░░▒▒▒▒▒▒▒▒▒▒░░██░░
                        // ░░░░██░░░░▒▒▒▒▒▒▒▒▒▒▒▒▒▒░░░░░░░░░░░░░░░░░░░░░░░░░░░░░░░░░░░░░░░░▒▒▒▒▒▒▒▒▒▒▒▒▒▒░░░░██░░
                        // ░░░░██░░▒▒▒▒▒▒▒▒▒▒▒▒▒▒░░░░░░░░░░░░░░░░░░░░░░░░░░░░░░░░░░░░░░░░░░░░▒▒▒▒▒▒▒▒▒▒▒▒▒▒░░██░░
                        // ░░░░░░██░░▒▒▒▒▒▒▒▒▒▒▒▒░░░░░░░░░░░░░░░░░░░░░░░░░░░░░░░░░░░░░░░░░░░░▒▒▒▒▒▒▒▒▒▒▒▒░░██░░░░
                        // ░░░░░░██░░▒▒▒▒▒▒▒▒▒▒░░░░░░░░░░░░░░░░░░░░░░░░░░░░░░░░░░░░░░░░░░░░░░░░▒▒▒▒▒▒▒▒▒▒░░██░░░░
                        // ░░████░░▓▓░░▒▒▒▒▒▒▒▒░░░░░░░░░░░░░░░░░░░░░░░░░░░░░░░░░░░░░░░░░░░░░░░░▒▒▒▒▒▒▒▒  ██░░████
                        // ░░██░░██░░░░▒▒▒▒▒▒▒▒░░░░░░░░░░░░░░░░░░░░░░░░░░░░░░░░░░░░░░░░░░░░░░░░▒▒▒▒▒▒▒▒░░░░██░░██
                        // ░░██░░░░▒▒░░░░▒▒▒▒░░░░░░░░░░░░░░░░  ░░░░░░░░░░░░░░░░  ░░░░░░░░░░░░░░░░▒▒▒▒░░░░▓▓░░░░██
                        // ░░██░░░░░░░░▒▒░░▒▒▒▒░░░░██░░░░░░      ░░░░░░░░░░░░      ░░░░░░██░░░░▒▒▒▒░░▒▒░░░░░░░░██
                        // ░░░░██░░░░░░▒▒░░▒▒▒▒░░░░██░░░░░░░░  ░░░░░░░░░░░░░░░░  ░░░░░░░░██░░░░▒▒▒▒▒▒▒▒░░░░░░██░░
                        // ░░░░▒▒██░░░░░░▒▒▒▒▒▒░░░░██▒▒░░░░░░░░░░░░░░░░░░░░░░░░░░░░░░░░▓▓██░░░░▒▒▒▒▒▒░░░░░░██▒▒░░
                        // ░░░░░░░░▓▓░░░░░░▒▒▒▒▒▒▒▒██████░░░░░░░░░░░░░░░░░░░░░░░░░░░░██████▒▒▒▒▒▒▒▒░░░░░░██░░░░░░
                        // ░░░░██████████░░░░▒▒░░▒▒░░████░░░░░░░░░░░░░░░░░░░░░░░░░░░░████░░▒▒░░▒▒░░░░██████████░░
                        // ░░░░██░░░░░░░░▓▓░░░░░░▒▒▒▒▒▒██▓▓░░░░░░░░░░░░░░░░░░░░░░░░▓▓██▒▒▒▒▒▒░░░░░░▓▓░░░░░░░░██░░
                        // ░░░░░░██░░░░░░░░░░░░░░▒▒▒▒▒▒░░██░░▒▒▒▒░░░░░░░░░░░░▒▒▒▒░░██░░▒▒▒▒▒▒░░░░░░░░░░░░░░██░░░░
                        // ░░░░░░░░██████░░░░░░░░▒▒▒▒▒▒░░▓▓▒▒▒▒▒▒░░░░░░░░░░░░▒▒▒▒▒▒▓▓▒▒▒▒▒▒▒▒░░░░░░░░██████░░░░░░
                        // ░░░░░░░░░░░░████░░░░░░░░▒▒▒▒▒▒▒▒▒▒▒▒▒▒░░░░░░░░░░░░▒▒▒▒▒▒▒▒▒▒▒▒▒▒░░░░░░░░████░░░░░░░░░░
                        // ░░░░░░░░░░░░██████████░░░░▒▒▒▒▒▒▒▒▒▒▒▒░░░░░░░░░░░░▒▒▒▒▒▒▒▒▒▒▒▒░░░░██████████░░░░░░░░░░
                        // ░░░░░░░░░░░░░░░░░░░░░░▓▓▓▓░░▒▒▒▒▒▒▒▒▒▒░░░░░░░░░░░░▒▒▒▒▒▒▒▒▒▒░░▓▓▓▓░░░░░░░░░░░░░░░░░░░░
                        // ░░░░░░░░░░░░░░░░░░░░░░░░▒▒▒▒░░▒▒▒▒▒▒▒▒░░░░░░░░░░░░▒▒▒▒▒▒▒▒░░▓▓▒▒░░░░░░░░░░░░░░░░░░░░░░
                        // ░░░░░░░░░░░░░░░░░░░░░░░░░░░░██░░▒▒▒▒▒▒▒▒░░░░░░░░▒▒▒▒▒▒▒▒░░██░░░░░░░░░░░░░░░░░░░░░░░░░░
                        // ░░░░░░░░░░░░░░░░░░░░░░░░░░░░░░██░░▒▒▒▒▒▒░░░░░░░░▒▒▒▒▒▒░░██░░░░░░░░░░░░░░░░░░░░░░░░░░░░
                        // ░░░░░░░░░░░░░░░░░░░░░░░░░░░░░░░░▓▓░░▒▒▒▒░░░░░░░░▒▒▒▒░░▓▓░░░░░░░░░░░░░░░░░░░░░░░░░░░░░░
                        // ░░░░░░░░░░░░░░░░░░░░░░░░░░░░░░░░██░░▒▒▒▒▒▒░░░░▒▒▒▒▒▒░░██░░░░░░░░░░░░░░░░░░░░░░░░░░░░░░
                        // ░░░░░░░░░░░░░░░░░░░░░░░░░░░░░░░░░░██░░▒▒▒▒▒▒▒▒▒▒▒▒░░██░░░░░░░░░░░░░░░░░░░░░░░░░░░░░░░░
                        // ░░░░░░░░░░░░░░░░░░░░░░░░░░░░░░░░░░██░░░░▓▓▓▓▓▓▒▒░░░░██░░░░░░░░░░░░░░░░░░░░░░░░░░░░░░░░
                        // ░░░░░░░░░░░░░░░░░░░░░░░░░░░░░░░░░░░░██░░▓▓▓▓▓▓▓▓░░██░░░░░░░░░░░░░░░░░░░░░░░░░░░░░░░░░░
                        // ░░░░░░░░░░░░░░░░░░░░░░░░░░░░░░░░░░░░░░██░░░░░░░░██░░░░░░░░░░░░░░░░░░░░░░░░░░░░░░░░░░░░
                        // ░░░░░░░░░░░░░░░░░░░░░░░░░░░░░░░░░░░░░░░░▓▓▓▓▓▓▓▓░░░░░░░░░░░░░░░░░░░░░░░░░░░░░░░░░░░░░░
